本文件大致描述無限城系統，以及其可編程性之界限。

## 限制文章內容、留言格式

### 預計完成
版本 0.2.0

### 概述
讓文章、留言能有一定格式，便於檢索、統計。
並能顯示表單以讓發文者或留言者方便填寫。
是否符合格式由板主、發文者定義的限制函式來決定。

### 應用舉例
- 課程評價板可限定必填欄位如年度、老師姓名、評價

## 標題、文章內容、留言可使用函式

### 預計完成
版本 0.2.0

### 概述
爲增強表述能力，讓使用者不只能輸入字串也能輸入函式，函式能擷取的範圍爲整篇文章的資料（包括文章內容、留言）

### 應用舉例
- 各種統計（投票）

## 事件權限控制系統

### 預計完成
版本 0.3.0

### 概述
讓進入看板、發文、留言等等權限可讓板主或發文者撰寫函式控制。

所有可控制權限的事件有

- 創建看板
- 進入看板
- 發文
- 閱讀文章
- 留言

### 應用舉例
- 限制閱讀的人，可用來告白。
- 可篩選能進入看板的使用者，以建立版主心中的人員組成
	- 例如，跟據 gp 來篩選成員，建立菁英中心
- 全自動化小說連載板
	- 一人或多人用某格式連載小說
		- 殺手 -- （一）登峰造極的畫
		- 殺手 -- （二）風華絕代的正義
	- 累積一定的總 gp 數之後，可以申請開板
		- 殺手 （開板人 id）
	- 先前的連載會全部移進去（目前的系統似乎做不到）（定時的守護程序？）
	- 板主可以發置底文統計近期最多人瀏覽的板／文，底下可以有人討論
	- 這些討論每天半夜12點會清空（目前的系統似乎做不到）（定時的守護程序？）
- 上述模式也可以改成以作家名而非小說名來開板
- 上述模式所需要的大量算力由板友定期捐獻？
- 板主機器人
	- 將某個板主帳號「獻祭」給那個板，成為機器人
	- 此帳號永不可再被人登入
	- 但仍可收錢、付錢給人、付錢維持守護程序、收信、發文等等
	- 參考西斯板匿名帳號（其實根本是人為匿名）風波，這個功能應該有搞頭

### 術語介紹

整個無限城是樹狀結構，因此我們先定義一些描述樹的術語，以使之後的說明更加簡潔：

**根（看板）**：整棵樹的最頂端，所有看板都由此處分支出去，也就是無限城首頁所顯示的頁面。

**祖先**：一個節點（也就是一個看板或文章）往上追溯到根一路上會碰到的節點都可說是此節點的祖先。


### 誰來控制？
以下說明各事件可由誰控制

- 創建看板：假若我們欲在 A 看板創建子看板，需滿足 A 以及 A 的所有祖先所設定的條件。

- 進入看板：若欲進入 A 看板，需滿足 A 以及 A 的所有祖先所設定的條件。

- 發文：欲在 A 看板發文，需滿足 A 以及 A 的所有祖先所設定的條件。

- 閱讀文章：欲閱讀 B 文章，需滿足 B 以及 B 的所有祖先所設定的條件。

- 留言：欲在 B 文章留言，需滿足 B 以及 B 的所有祖先所設定的條件。

### 控制函式能使用哪些數據來進行評斷？

在「誰來控制？」的小節中可看到，要達成一個事件需要不斷向上追溯祖先，反過來說，在每一個節點所設定的控制函式若能知道自己所有子孫的所有資料，那就能得到最細微的控制權。

因此我們讓每個控制函數能取得一個以自己爲根的子樹，這整棵子樹的節點爲看板或文章，並能取得看板、文章的所有資料。

看板、文章的資料尚未確定，可能會包括人數、按讚數、留言數...等等

此外，此控制函式當然也得取得要行使這個權限者的資料，包含登入次數、註冊時間、被幾個人追蹤...等等。